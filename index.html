<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <title>Elite Squirrels ‚Äî Hockey Squirrels, Stats and Transactions</title>
  
  <!-- Favicon –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#ffffff">
  <meta name="msapplication-TileColor" content="#ffffff">
  
  <style>
    * {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      background-color: white; 
      gap: 20px;
      box-sizing: border-box;
      overflow-x: hidden;
      -webkit-overflow-scrolling: touch;
    }
    
    img {
      max-width: 90%;
      max-height: 40vh;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      transform: translateZ(0);
    }
    
    video {
      max-width: 90%;
      max-height: 40vh;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      transform: translateZ(0);
    }
    
    .top-left {
      position: fixed;
      top: 10px;
      left: 10px;
      width: 35vw;
      min-width: 140px;
      max-width: 300px;
      height: auto;
      z-index: 1000;
    }
    
    .telegram-link {
      position: fixed;
      bottom: 20px;
      left: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: #0088cc;
      color: white;
      padding: 12px 16px;
      border-radius: 25px;
      text-decoration: none;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      font-size: 14px;
      font-weight: 500;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s ease;
      z-index: 1000;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      transform: translateZ(0);
    }
    
    .telegram-link:hover,
    .telegram-link:active {
      background: #006ba6;
    }
    
    .telegram-icon {
      width: 18px;
      height: 18px;
      fill: white;
      flex-shrink: 0;
    }
    
    /* iOS Safari specific optimizations */
    @supports (-webkit-appearance: none) {
      body {
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
      }
      
      .top-left {
        top: calc(10px + env(safe-area-inset-top));
        left: calc(10px + env(safe-area-inset-left));
      }
      
      .telegram-link {
        bottom: calc(20px + env(safe-area-inset-bottom));
        left: calc(20px + env(safe-area-inset-left));
      }
    }
    
    /* Media queries for better responsive design */
    @media screen and (max-width: 768px) {
      body {
        gap: 15px;
        padding: 15px;
      }
      
      .top-left {
        width: 30vw;
        min-width: 100px;
        max-width: 200px;
      }
      
      .telegram-link {
        font-size: 12px;
        padding: 10px 14px;
      }
      
      .telegram-icon {
        width: 16px;
        height: 16px;
      }
      
      img, video {
        max-height: 35vh;
      }
      
      /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ */
      div[style*="display: flex"] {
        flex-direction: column !important;
        gap: 15px !important;
      }
    }
    
    @media screen and (max-width: 480px) {
      .top-left {
        width: 28vw;
        min-width: 90px;
        max-width: 180px;
      }
      
      .telegram-link {
        font-size: 11px;
        padding: 8px 12px;
        gap: 6px;
      }
      
      .telegram-icon {
        width: 14px;
        height: 14px;
      }
    }
    
    /* –°—Ç–∏–ª–∏ –¥–ª—è –º–∏–Ω–∏-–∏–≥—Ä—ã */
    #gameContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 20px;
    }
    
    #gameArea {
      position: relative;
      width: 400px;
      height: 200px;
      background: linear-gradient(90deg, #87CEEB 0%, #E0F6FF 50%, #87CEEB 100%);
      border: 3px solid #333;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    
    #puck {
      position: absolute;
      width: 20px;
      height: 20px;
      background: #1a1a1a;
      border-radius: 50%;
      bottom: 20px;
      left: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 2px solid #333;
    }
    
    #goal {
      position: absolute;
      width: 60px;
      height: 40px;
      background: rgba(255, 255, 255, 0.2);
      border: 3px solid #ff0000;
      border-bottom: none;
      right: 10px;
      bottom: 80px;
      border-radius: 10px 10px 0 0;
    }
    
    #goal::after {
      content: 'ü•Ö';
      font-size: 24px;
      position: absolute;
      top: 5px;
      left: 18px;
    }
    
    #player {
      position: absolute;
      width: 30px;
      height: 30px;
      bottom: 15px;
      left: 15px;
      font-size: 24px;
    }
    
    #player::after {
      content: 'üêøÔ∏è';
    }
    
    #gameUI {
      display: flex;
      gap: 20px;
      align-items: center;
      font-family: Arial, sans-serif;
      color: white;
      font-size: 18px;
      font-weight: bold;
    }
    
    #gameUI button {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-size: 14px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    #startBtn {
      background: #4CAF50;
      color: white;
    }
    
    #startBtn:hover {
      background: #45a049;
    }
    
    #closeBtn {
      background: #f44336;
      color: white;
    }
    
    #closeBtn:hover {
      background: #da190b;
    }
    
    .puck-moving {
      animation: puckShot 1s ease-out forwards;
    }
    
    @keyframes puckShot {
      0% {
        transform: translate(0, 0) scale(1);
      }
      100% {
        transform: translate(320px, -50px) scale(0.8);
      }
    }
    
    .goal-animation {
      animation: goalCelebration 0.5s ease-in-out;
    }
    
    @keyframes goalCelebration {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); background: #ffff00; }
    }
    
    @media screen and (max-width: 480px) {
      #gameArea {
        width: 90vw;
        height: 180px;
      }
      
      #gameUI {
        flex-direction: column;
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <img class="top-left" src="top-left-image.png" alt="Top Left Image" />
  <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" class="telegram-link" target="_blank">
    <svg class="telegram-icon" viewBox="0 0 24 24">
      <path d="M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 2.1 11.75c-1.21-.35-1.23-1.18.26-1.75l21.26-8.2c.97-.43 1.9.24 1.48 1.75L21.3 21.75c-.18.97-.78 1.22-1.57.75L14.26 19l-2.74 2.64c-.29.32-.53.15-.53-.34z"/>
    </svg>
    Telegram –∫–∞–Ω–∞–ª
  </a>
  <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap; justify-content: center;">
    <img src="belka.jpg" alt="belka" />
    <img src="stat.png" alt="Player Statistics" style="
      max-width: 90%;
      max-height: 40vh;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      transform: translateZ(0);
    " />
  </div>
  
  <!-- –ú–∏–Ω–∏-–∏–≥—Ä–∞ "–•–æ–∫–∫–µ–π–Ω—ã–µ –±—Ä–æ—Å–∫–∏" -->
  <div id="gameContainer" style="display: none;">
    <h2 style="text-align: center; font-family: Arial, sans-serif; color: #333;">üèí –•–æ–∫–∫–µ–π–Ω—ã–µ –±—Ä–æ—Å–∫–∏ –±–µ–ª–æ–∫ üêøÔ∏è</h2>
    <div id="gameArea">
      <div id="puck"></div>
      <div id="goal"></div>
      <div id="player"></div>
    </div>
    <div id="gameUI">
      <div id="score">–°—á–µ—Ç: 0</div>
      <div id="timer">–í—Ä–µ–º—è: 30</div>
      <button id="startBtn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
      <button id="closeBtn">–ó–∞–∫—Ä—ã—Ç—å –∏–≥—Ä—É</button>
    </div>
  </div>
  
  <button id="playGameBtn" style="
    background: linear-gradient(45deg, #ff6b35, #f7931e);
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: 25px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: transform 0.2s;
    font-family: Arial, sans-serif;
  " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
    üéÆ –ò–≥—Ä–∞—Ç—å –≤ –º–∏–Ω–∏-–∏–≥—Ä—É
  </button>

  <video 
    id="mainVideo"
    playsinline
    webkit-playsinline
    controls
    preload="auto"
    muted
    x-webkit-airplay="allow"
    webkit-playsinline="true">
    <source src="vyst.mp4" type="video/mp4" />
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä –≤–∏–¥–µ–æ.
  </video>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const video = document.getElementById('mainVideo');
      
      // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è Safari
      video.load();
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
      video.addEventListener('error', function(e) {
        console.log('Video error:', e);
        console.log('Video error code:', video.error ? video.error.code : 'unknown');
      });
      
      // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
      video.addEventListener('loadedmetadata', function() {
        console.log('Video metadata loaded');
      });
      
      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
      setTimeout(function() {
        if (video.readyState === 0) {
          video.load();
        }
      }, 1000);
      
      // –î–ª—è iOS Safari - –ø–æ–ø—ã—Ç–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–∞—Å–∞–Ω–∏–∏
      document.addEventListener('touchstart', function() {
        if (video.paused) {
          video.play().catch(function(error) {
            console.log('Play error:', error);
          });
        }
      }, { once: true });
    });
    
    // –ú–∏–Ω–∏-–∏–≥—Ä–∞ "–•–æ–∫–∫–µ–π–Ω—ã–µ –±—Ä–æ—Å–∫–∏ –±–µ–ª–æ–∫"
    let gameState = {
      score: 0,
      timeLeft: 30,
      gameActive: false,
      gameTimer: null
    };
    
    const gameContainer = document.getElementById('gameContainer');
    const playGameBtn = document.getElementById('playGameBtn');
    const startBtn = document.getElementById('startBtn');
    const closeBtn = document.getElementById('closeBtn');
    const puck = document.getElementById('puck');
    const goal = document.getElementById('goal');
    const scoreDisplay = document.getElementById('score');
    const timerDisplay = document.getElementById('timer');
    
    // –û—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä—É
    playGameBtn.addEventListener('click', function() {
      gameContainer.style.display = 'flex';
    });
    
    // –ó–∞–∫—Ä—ã—Ç—å –∏–≥—Ä—É
    closeBtn.addEventListener('click', function() {
      gameContainer.style.display = 'none';
      endGame();
    });
    
    // –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
    startBtn.addEventListener('click', function() {
      if (!gameState.gameActive) {
        startGame();
      }
    });
    
    // –ë—Ä–æ—Å–æ–∫ —à–∞–π–±—ã
    puck.addEventListener('click', function() {
      if (gameState.gameActive && !puck.classList.contains('puck-moving')) {
        shootPuck();
      }
    });
    
    function startGame() {
      gameState.score = 0;
      gameState.timeLeft = 30;
      gameState.gameActive = true;
      
      updateDisplay();
      startBtn.textContent = '–ò–≥—Ä–∞ –∏–¥–µ—Ç...';
      startBtn.disabled = true;
      
      // –¢–∞–π–º–µ—Ä –∏–≥—Ä—ã
      gameState.gameTimer = setInterval(function() {
        gameState.timeLeft--;
        updateDisplay();
        
        if (gameState.timeLeft <= 0) {
          endGame();
        }
      }, 1000);
      
      resetPuck();
    }
    
    function endGame() {
      gameState.gameActive = false;
      clearInterval(gameState.gameTimer);
      startBtn.textContent = '–ù–∞—á–∞—Ç—å –∏–≥—Ä—É';
      startBtn.disabled = false;
      
      if (gameState.score > 0) {
        setTimeout(() => {
          alert(`üéâ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –í–∞—à —Å—á–µ—Ç: ${gameState.score} –≥–æ–ª–æ–≤!\n${getScoreMessage(gameState.score)}`);
        }, 100);
      }
    }
    
    function shootPuck() {
      puck.classList.add('puck-moving');
      
      // –°–ª—É—á–∞–π–Ω–æ—Å—Ç—å –ø–æ–ø–∞–¥–∞–Ω–∏—è (70% —à–∞–Ω—Å)
      const hit = Math.random() < 0.7;
      
      setTimeout(() => {
        if (hit) {
          // –ì–æ–ª!
          gameState.score++;
          goal.classList.add('goal-animation');
          updateDisplay();
          
          // –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –≥–æ–ª–∞
          showGoalEffect();
          
          setTimeout(() => {
            goal.classList.remove('goal-animation');
          }, 500);
        }
        
        // –í–µ—Ä–Ω—É—Ç—å —à–∞–π–±—É –æ–±—Ä–∞—Ç–Ω–æ
        setTimeout(() => {
          resetPuck();
        }, 200);
        
      }, 300);
    }
    
    function resetPuck() {
      puck.classList.remove('puck-moving');
      puck.style.left = (Math.random() * 100 + 20) + 'px';
      puck.style.bottom = (Math.random() * 30 + 15) + 'px';
    }
    
    function updateDisplay() {
      scoreDisplay.textContent = `–°—á–µ—Ç: ${gameState.score}`;
      timerDisplay.textContent = `–í—Ä–µ–º—è: ${gameState.timeLeft}`;
    }
    
    function showGoalEffect() {
      const effect = document.createElement('div');
      effect.textContent = '‚ö° –ì–û–õ! ‚ö°';
      effect.style.cssText = `
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #ffff00;
        font-size: 24px;
        font-weight: bold;
        z-index: 1000;
        animation: goalText 1s ease-out forwards;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
      `;
      
      // –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏—é
      const style = document.createElement('style');
      style.textContent = `
        @keyframes goalText {
          0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
          50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
          100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
        }
      `;
      document.head.appendChild(style);
      
      document.getElementById('gameArea').appendChild(effect);
      
      setTimeout(() => {
        effect.remove();
      }, 1000);
    }
    
    function getScoreMessage(score) {
      if (score >= 15) return "üèÜ –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! –í—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —Å–Ω–∞–π–ø–µ—Ä!";
      if (score >= 10) return "ü•á –û—Ç–ª–∏—á–Ω–æ! –û—Ç–ª–∏—á–Ω–∞—è –∏–≥—Ä–∞!";
      if (score >= 5) return "ü•à –•–æ—Ä–æ—à–æ! –ù–µ–ø–ª–æ—Ö–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!";
      if (score >= 1) return "ü•â –ù–µ–ø–ª–æ—Ö–æ! –ï—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏!";
      return "üòÖ –ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ—Å—å, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!";
    }
  </script>
</body>
</html>
